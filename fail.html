<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no" />
  <title>Payment Failed</title>
  <script defer src="https://minio.finpos.global/getpay-cdn/webcheckout/v5/bundle.js"></script>
  <style>
    body {
      font-family: 'Inter', Arial, sans-serif;
      background: #fff5f5;
      color: #1a1a2e;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      padding: 20px;
    }
    .message-box {
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 15px 30px rgba(255, 86, 86, 0.15);
    }
    h1 { color: #ef4444; font-size: 36px; margin-bottom: 16px; }
    p { font-size: 18px; margin-bottom: 20px; }
    button {
      padding: 12px 30px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      background: #5662FF;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover { background: #3e4dcc; }
  </style>
</head>
<body>

<div class="message-box">
  <h1>Payment Failed!</h1>
  <p>Unfortunately, your payment could not be processed.</p>
  <button onclick="window.location.href='https://sandeepkumarjha.com.np'">Back to Store</button>
  <div id="checkout"></div>
</div>

<script>
  if (window.top !== window.self) {
    window.top.location = window.self.location.href;
  }

  const hash = window.location.hash || '';
  const urlParams = new URLSearchParams(hash.replace('#','?'));
  const token = urlParams.get('token');
  console.log('Payment Failed Token:', token);

  // Optionally notify server of failed payment
  // fetch('/verify-payment', { method:'POST', body: JSON.stringify({ token, papInfo: 'eyJpbnN0aXR1dGlvbklkIjoiMTIyIiwibWlkIjoiMTIzMTIzNDUxNzcwOTg2IiwidGlkIjoiMTIzNTg3NjIifQ==' }) })
</script>

</body>
</html>
