<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checkout – Java Course</title>
  <!-- Include GetPay JS bundle (defer so DOM is ready) -->
  <script defer src="https://minio.finpos.global/getpay-cdn/webcheckout/v5/bundle.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    .btn { padding: 12px 25px; font-size: 16px; background-color: #5662FF; color: white; border: none; border-radius: 8px; cursor: pointer; }
    .btn:hover { background-color: #3e4dcc; }
  </style>
</head>
<body>
  <h1>Buy JAVA COURSE</h1>
  <p>Price: Rs 4500</p>
  <button id="checkout-btn" class="btn">Proceed to Pay</button>

  <!-- This container may be used by GetPay to render checkout UI -->
  <div id="checkout-container" hidden></div>

  <script>
    document.getElementById('checkout-btn').addEventListener('click', function () {
      const options = {
        userInfo: {
          name: "Sandeep Kumar Jha",
          email: "sandeep@example.com",
          state: "Bagmati",
          country: "Nepal",
          zipcode: "44600",
          city: "Kathmandu",
          address: "Maitidevi"
        },
        papInfo: "eyJpbnN0aXR1dGlvbklkIjoiMTIyIiwibWlkIjoiOTk5OTk5OTk5OTk5OTk5IiwidGlkIjoiMTExMTExMTEifQ==",
        oprKey: "4fa4c6b9-3f91-43e5-9b4f-319f68187ba5",
        insKey: "",  // only if provided by GetPay for your account
        websiteDomain: window.location.origin,
        price: 4500.00,
        businessName: "Sandeep Store - Learn Smart",
        imageUrl: "https://sandeepkumarjha.com.np/img/java.png",
        currency: "NPR",
        clientRequestId: "ORDER001-JAVA",
        callbackUrl: {
          successUrl: "https://sandeepkumarjha.com.np/payment.html",
          failUrl: "https://sandeepkumarjha.com.np/fail.html"
        },
        themeColor: "#5662FF",
        prefill: {
          name: true,
          email: true,
          state: true,
          city: true,
          address: true,
          zipcode: true,
          country: true
        },
        disableFields: {
          address: true,
          state: true
        },
        orderInformationUI: `
          <div style="font-family:Arial; text-align: left;">
            <h3>Order Information</h3>
            <div class="item" style="margin-bottom: 20px; display: flex; align-items: center;">
              <img style="max-width: 50px; margin-right: 10px;" src="https://sandeepkumarjha.com.np/img/java.png" alt="Java Course" />
              <div>
                <p style="margin: 0; font-weight: bold;">JAVA COURSE</p>
                <span>Rs 4,500.00</span>
              </div>
            </div>
          </div>`,
        baseUrl: "https://uat-bank-getpay.nchl.com.np/ecom-web-checkout/v1/secure-merchant/transactions",
        // Optional: specify where in DOM to render checkout
        containerId: "checkout-container",
        onSuccess: function (response) {
          // Payment initialized successfully — you may redirect or show message
          alert("Redirecting to payment page...");
          window.location.href = this.callbackUrl.successUrl;
        },
        onError: function (err) {
          console.error("GetPay checkout error:", err);
          alert("Something went wrong. Please try again.");
        }
      };

      const getpay = new GetPay(options);
      getpay.initialize();
    });
  </script>
</body>
</html>

